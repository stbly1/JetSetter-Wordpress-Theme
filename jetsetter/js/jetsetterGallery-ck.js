/*
 Gallery Page JS file for the WordPress Theme @JetSetter
*/function resizeObjects(){if(!siteInit){siteInit=!0;fadeSite()}sizeGalleryImage();$("#primary").css({"margin-bottom":$(".site-footer").height()});sizeImages()}function preSizeImage(e,t){console.log($(window).width(),t);if($(window).width()>t){console.log("case1");e.css({height:"calc(100% - 80px)"});e.css({height:"-webkit-calc(100% - 80px)"});e.css({width:"auto"})}else{console.log("case2");e.css({height:"auto"});e.css({width:"100%"})}e.css({"margin-left":-e.width()/2-20});e.css({"margin-top":-(e.height()/2)-20})}function sizeGalleryImage(){if(originalWidth==null){originalWidth=currentImage.width();originalHeight=currentImage.height();console.log("original image size = ",originalWidth,originalHeight)}preSizeImage(currentImage,originalWidth)}function fadeSite(){$(".header-main").css({opacity:1});$("#main").css({opacity:1});$("#featured-image-header").css({opacity:1});$(".site-footer").css({opacity:1});$(".preloader").css({opacity:0})}function sizeImages(){$("#featured-image-header").css({height:$(window).height()-20})}function initSite(){var e=$("<div>",{id:"selector"}),t=$("<div>",{id:"selector-container"}),n=$("<p>",{text:"Select an Image:"});t.append(n);$(".entry-content img").each(function(){galleryImages.push(this)});for(var r=0;r<galleryImages.length;r++){var i=$(galleryImages[r]),s=$("<img>",{id:"image-container"}),o=i.attr("src"),u,a=i.parent().parent();if(a.is("figure")){var f=$("figcaption",a).text();u=$("<div>",{"class":"gallery-caption"});u.append(f);s.append(u)}var l=$("<div>",{"class":"background-gradient"});s.append(l);s.attr("src",o);var c=$("<div>",{"class":"radio-btn",id:"radio-btn-"+r,onclick:"switchGalleryImage("+r+")"});t.append(c);galleryContainers.push(s);s.css({"z-index":10});s.remove();i.remove();a.remove()}var h=$("#gallery-description").text();h.length==0&&$(".entry-content p").each(function(){var e=$(this).text();console.log(e);$("#gallery-description").append(e)});t.append($("<span>",{"class":"instructions",text:"(Use Arrow Keys/Swipe to Change Images)"}));e.append(t);$("#content").append($("<div>",{id:"caption-container"}));$("#content").append(e);$("#content").append($("article"));$("#content").append($("<div>",{"class":"clear"}));setTimeout(resizeObjects,500);$(window).resize(function(){resizeObjects()});$("#featured-image-header").swipe({fingers:"all",swipeLeft:nextImage,swipeRight:prevImage,allowPageScroll:"auto",threshold:30});$(document).keydown(function(e){if(e.keyCode==37){console.log("prev image");prevImage()}if(e.keyCode==39){console.log("next image");nextImage()}});switchGalleryImage(0)}function toggleGalleriesGallery(){if(galleryToggled){galleryToggled=!1;$("#galleries-navigation").css({height:"0px"})}else{galleryToggled=!0;$("#galleries-navigation").css({height:"auto"})}}function prevImage(){currentNumber--;currentNumber<0?switchGalleryImage(galleryContainers.length-1):switchGalleryImage(currentNumber)}function nextImage(){currentNumber++;currentNumber>galleryContainers.length-1?switchGalleryImage(0):switchGalleryImage(currentNumber)}function switchGalleryImage(e){var t;currentNumber=e;changeRadioButton();if(currentImage){$("#inactive-container").append(currentImage);currentImage.css({"z-index":15});t=currentImage}var n=$(galleryContainers[e]);$("#active-container").append(n);n.css({"z-index":20});n.css({opacity:0});preSizeImage(n,n.width());n.animate({opacity:1},500,function(){originalWidth=null;sizeGalleryImage();t&&t.remove()});t&&t.animate({opacity:0},500,function(){t.remove()});currentImage=n;if($(".gallery-caption",currentImage).length>0){var r=$(".gallery-caption",currentImage).text();$("#caption-container").append($("<span>",{text:r}));$("#caption-container").css({padding:20})}else{$("#caption-container span").remove();$("#caption-container").css({padding:10})}}function changeRadioButton(){currentButton&&currentButton.removeAttr("style");currentButton=$("#radio-btn-"+currentNumber);currentButton.css({"background-color":"#fff"})}var siteInit=!1,originalWidth,originalHeight,galleryImages=[],galleryContainers=[],currentImage,currentButton,currentNumber,galleryToggled=!1;$(document).ready(function(){initSite()});